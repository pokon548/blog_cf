+++
title = "在 ColorOS 13 上找回之前的专注模式"
date = "2022-12-01T20:08:59+08:00"
author = ""
authorTwitter = "" #do not include @
cover = "https://s2.loli.net/2022/12/01/hFTt9sDJgKrRqxz.png"
tags = ["coloros", "focus", "oneplus"]
keywords = ["coloros", "focus", "oneplus"]
description = "不是很喜欢禅定模式"
showFullContent = false
readingTime = false
hideComments = false
+++

要说升级到 ColorOS 13 之后我有什么不爽的地方，可能就是之前简单好用的“专注模式”被砍掉了。

以防你对这个边际小功能没有印象，这是它的截图：

![Screenshot_2022-12-01-20-34-23-66_f2f67b220f64a0b2827f6a4fb5c7c2fc.jpg](https://s2.loli.net/2022/12/01/fGUQ4KmPhwpl92Y.jpg)

简单来说，它可以临时禁用一小会手机，让你专心的做一些其他的事情。

## 为什么不用禅定模式
可能有人会说，ColorOS 13 引入的“禅定模式”似乎很不错，为什么要纠结于之前的“专注模式”呢？这是我在使用几次“禅定模式”后，给出的一些理由：
- 锁定效果不稳定。如果你开了多用户，在锁屏界面试着切换一次用户，就能直接终止“禅定模式”的计时器；
- 每次禅定之后，都会更改 Android 默认启动器设置！这一点对我这个第三方启动器的忠实爱好者来说，十分不友好——换言之，每次禅定完毕后，你都要重新选择默认启动器；
- 不能选择白名单应用。

因而，我便想要在 ColorOS 13 上找回以前的“专注模式”。

## 分析
首先，由于“专注模式”曾经有一个位于“应用使用时间”的入口，我便从该系统应用作为突破口，看看 ColorOS 13 是否保留了这部分的逻辑。

拷贝出对应 apk，丢入到 JADX 反编译，并搜索```专注模式```字符串。结果令人欣喜：

![无标题.png](https://s2.loli.net/2022/12/01/2fcrhlQzPw7JbO3.png)

该部分字符串依然可在 ColorOS 13 中的“应用启动时间”里检索到，可能说明“专注模式”在“应用启动时间”的启动逻辑依然被保留。

继续使用 ```focus_mode``` 检索相应的代码，最终成功定位到位于 ```j3```包下的 ```c0``` 方法：

![无标题 _1_.png](https://s2.loli.net/2022/12/01/8tKfFPzQNw7DqZ5.png)

简单来说，“应用启动时间”依然保留了启动“专注模式”的逻辑：
- 如果检测到“专注模式“ ```com.coloros.focusmode```，就把“专注模式”添加到“应用启动时间”界面下方的可选项里；
- 如果检测到“禅定模式” ```com.oneplus.brickmode```，就添加“禅定模式”。

> 注意！此处的逻辑是**两个 if**！也就是说，如果你同时安装了“专注模式”和“禅定模式”，你依然**只能**找到“禅定模式”的入口。“专注模式”的入口被“禅定模式”覆盖了。但你不太需要担心这一点，请继续阅读后文

## 初步定论
简单来说，ColorOS 13 依然保留了启动“专注模式”的逻辑，只是将“专注模式”这个独立应用从系统中删除。

按理来说，只要将这个应用重新安装，就可以找回以前的“专注模式”。

## 检验
为了检验可行性，我从网上下载了“专注模式”的安装包，并尝试安装到 ColorOS 13 里。

过程非常顺利，没有遇到任何无法安装的情况。

之后，再次打开“应用启动时间”，“专注模式”的入口已经出现：

![Screenshot_2022-12-01-21-01-35-28_0e3aad53f78bc1fe0d234048d456fbf1.jpg](https://s2.loli.net/2022/12/01/pmPWYdHlbC4NMAs.jpg)

享受你的专注模式！

## 额外发现
状态栏多出来了一个全新的磁贴——“专注模式”：

![Screenshot_2022-12-01-21-04-32-29_d365b52accad0f47adbc08c16219827d.jpg](https://s2.loli.net/2022/12/01/6oI7mVWM5iQ8juC.jpg)

如果你更喜欢简单粗暴的快捷方式，就一定不要错过它。

## 安装包？
[点这里](https://share.pokon548.ink/api/raw/?path=/Android/focus-mode-3-4-16.apk)就可以获取到它。